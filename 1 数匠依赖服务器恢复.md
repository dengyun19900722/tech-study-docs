# 1 数匠依赖服务器恢复

## 1.1 数据库恢复

### 1.1.1 datafile备份

> 备份文件已存于《F:\shujiang\2. database_backup_0603》

### 1.1.2 数据库卸载

```shell
# 卸载oracle11G数据
# step1：使用SQL*PLUS停止数据库
[oracle@OracleTest oracle]$ sqlplus / nolog
SQL> connect / as sysdba
SQL> shutdown [immediate]
SQL> exit

# step2：停止Listener
[oracle@OracleTest oracle]$ lsnrctl stop

# step3: 停止HTTP服务
[root@OracleTest /root]# service httpd stop

# step4: 用su或者重新登录到root(如想重新安装可以保留oracle用户，省得输入环境变量了)

# step5: 将安装目录删除
[root@OracleTest /root]# rm -rf /u01/app/oracle/

# step6：将/usr/bin下的文件删除
[root@OracleTest /root]# rm /usr/local/bin/dbhome
[root@OracleTest /root]# rm /usr/local/bin/oraenv
[root@OracleTest /root]# rm /usr/local/bin/coraenv

# step7：将/etc/oratab删除
[root@OracleTest /root]# rm /etc/oratab

# step8：将/etc/oraInst.loc删除
[root@OracleTest /root]# rm /etc/oraInst.loc

# step9：将启动服务删除
[root@OracleTest /root]# chkconfig --del dbora
到此为止重启后，Linux系统下的Oracle数据库已完全删除了！！！ - 本次
```

### 1.1.3 数据库重装

```shell
# 由于保留了之前的所有配置，所以可以直接执行安装命令 - 11.0.0.3
# step1：进入安装目录
su - oracle
cd /usr/oracle/database
./runInstaller



# step 1: 解决swap分区不足问题
https://www.edureka.co/community/24087/how-to-increase-swap-memory-in-centos-7

# step 2：解决依赖缺失问题
compat-lib
pdksh-5.2.14

rpm -e ksh-20120801-10.el6.x86_64        # 卸载ksh 
rpm -Uvh pdksh-5.2.14-36.el5.x86_64.rpm  # 重装pdksh
```



## 1.2 应用恢复



