# 1、告警抑制

## 1.1 腾讯蓝鲸怎么做的？

| 资料名称                                 | 资料地址                                                     | 备注 |
| ---------------------------------------- | ------------------------------------------------------------ | ---- |
| 蓝鲸监控社区版5.0：终结满屏告警          | https://cloud.tencent.com/developer/article/1417792?share_token=8b168ad1-14bc-40d1-9f3a-f85286ed0b46 |      |
| 80% or 90%？--告警设置之动态阈值最佳实践 | https://cloud.tencent.com/developer/article/1767821?share_token=bc5a4c81-2bfb-447a-91ed-74d1cc0b68cb |      |
|                                          |                                                              |      |

告警恢复检测机制：整个世界都清净了

**“告警未恢复，持续告警” 、“稍微抖一下就告警，无法抑制”，**导致根本没法用下去...

在本次迭代中，我们增加了告警恢复检测机制（下一个迭代会增加一个告警状态：已恢复），告警如果未恢复，将会被抑制，不再产生告警。

此外，针对检测算法，小编有如下建议： 

![img](https://ask.qcloudimg.com/http-save/yehe-1735916/8z6fdq05ex.jpeg?imageView2/2/w/1620)

- 抖动类指标：如CPU总使用率，N可选择3，来消除抖动
- 非抖动类指标：如磁盘使用率，N可选择1

------

> 告警恢复的判断: 连续M个周期均未触发检测算法

![img](https://ask.qcloudimg.com/http-save/yehe-1735916/07op4unv6t.png?imageView2/2/w/1620)



## 1.2 阿里怎么做的？

 

| 资料名称     | 资料地址                                            | 备注     |
| ------------ | --------------------------------------------------- | -------- |
| 告警降噪控制 | https://help.aliyun.com/document_detail/209508.html | 日志服务 |
|              |                                                     |          |
|              |                                                     |          |



# 2、告警恢复





# 3、告警阈值（动态阈值）

| 资料名称                                 | 资料地址                                                     | 备注 |
| ---------------------------------------- | ------------------------------------------------------------ | ---- |
| 80% or 90%？--告警设置之动态阈值最佳实践 | https://cloud.tencent.com/developer/article/1767821?share_token=bc5a4c81-2bfb-447a-91ed-74d1cc0b68cb |      |
| 【时间序列】时间序列的智能异常检测方案   | https://cloud.tencent.com/developer/article/1670322          |      |
|                                          |                                                              |      |



但是静态阈值检测也存在本身检测场景的局限， 例如：**需要人工配置，具有学习成本；具有一定维护成本，需要人工根据业务经验不时调整告警阈值设置等。**

在这样的背景下，云监控研发了动态阈值功能。 **动态阈值功能，依托于腾讯云时间序列智能异常检测方案（Intelligent Anomaly Detection，IAD），采用业内领先的机器学习技术并结合业务特性来学习指标数据的历史变化规律，在不需要用户设定阈值的情况下，为您智能地检测指标异常并发送告警。**

在配置页面存在一些名词，下面提供这些名词的解释：

- **静态 / 动态**：静态表示配置静态阈值，动态表示配置动态阈值。
- **动态阈值上边界**：图中阴影区间是根据指标自适应计算出来的合理范围。阴影区间的上面一条线表示上边界，阴影区间的下面线表示
- **统计周期 1 分钟选项**：表示指标的统计粒度，目前动态阈值只开放了 1 分钟粒度。
- **大于或小于选项**：表示需要关注的指标方向，用于表示超过上下边界的定义。
- **灵敏度**：不同的灵敏度他的上下边界（也就是合理范围）大小不一样。
- **持续 1 个周期**：用于控制持续几个点异常才会发出告警。持续 1 个周期表示需要连续 2 个点异常，才会触发告警。
- **每 1 天告警一次**：用于在一次告警内，按时间进行收敛。比如每一天告警一次，表示在同一次触发的告警内，时间间隔了一天发一次告警。当异常恢复了，则结束。

![img](https://ask.qcloudimg.com/http-save/6781641/hcqy77n6x2.png)



![img](https://ask.qcloudimg.com/http-save/6781641/hcqy77n6x2.png)